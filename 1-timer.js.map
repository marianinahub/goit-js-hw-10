{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nlet dateTimeP = document.querySelector('#datetime-picker');\nlet button = document.querySelector('[data-start]');\nlet days = document.querySelector('[data-days]');\nlet hours = document.querySelector('[data-hours]');\nlet minutes = document.querySelector('[data-minutes]');\nlet seconds = document.querySelector('[data-seconds]');\n\nbutton.disabled = true;\n\nlet userSelectedDate = null;\nlet timeStop = null;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    let selectedDate = selectedDates[0];\n    let dateNow = new Date();\n\n    if (selectedDate <= dateNow) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please choose a date in the future',\n      });\n      button.disabled = true;\n      userSelectedDate = null;\n    } else {\n      userSelectedDate = selectedDate;\n      button.disabled = false;\n    }\n\n    console.log(selectedDates[0]);\n  },\n};\n\nbutton.addEventListener('click', () => {\n  if (userSelectedDate === null) {\n    return;\n  } else {\n    if (timeStop !== null) {\n      clearInterval(timeStop);\n\n      timeStop = null;\n    }\n\n    timeStop = setInterval(function () {\n      let howMuchTime = userSelectedDate - new Date();\n      if (howMuchTime <= 0) {\n        clearInterval(timeStop);\n        showTimer({ days: 0, hours: 0, minutes: 0, seconds: 0 });\n        dateTimeP.disabled = false;\n        timeStop = null;\n        return;\n      }\n\n      const timeOne = convertMs(howMuchTime);\n      showTimer(timeOne);\n    }, 1000);\n  }\n  button.disabled = true;\n  dateTimeP.disabled = true;\n});\n\nfunction convertMs(howMuchTime) {\n \n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n\n  const days = Math.floor(howMuchTime / day);\n\n  const hours = Math.floor((howMuchTime % day) / hour);\n\n  const minutes = Math.floor(((howMuchTime % day) % hour) / minute);\n\n  const seconds = Math.floor((((howMuchTime % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction showTimer(timeTwo) {\n  days.textContent = addLeadingZero(timeTwo.days);\n  hours.textContent = addLeadingZero(timeTwo.hours);\n  minutes.textContent = addLeadingZero(timeTwo.minutes);\n  seconds.textContent = addLeadingZero(timeTwo.seconds);\n  return;\n}\n\nfunction addLeadingZero(value) {\n  let string = value.toString();\n  return string.padStart(2, '0');\n}\n\nflatpickr('#datetime-picker', options);"],"names":["dateTimeP","button","days","hours","minutes","seconds","userSelectedDate","timeStop","options","selectedDates","selectedDate","iziToast","howMuchTime","showTimer","timeOne","convertMs","timeTwo","addLeadingZero","value","flatpickr"],"mappings":"0IAMA,IAAIA,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAQ,SAAS,cAAc,cAAc,EAC7CC,EAAU,SAAS,cAAc,gBAAgB,EACjDC,EAAU,SAAS,cAAc,gBAAgB,EAErDJ,EAAO,SAAW,GAElB,IAAIK,EAAmB,KACnBC,EAAW,KAEf,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,IAAIC,EAAeD,EAAc,CAAC,EAG9BC,GAFU,IAAI,MAGhBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oCACjB,CAAO,EACDV,EAAO,SAAW,GAClBK,EAAmB,OAEnBA,EAAmBI,EACnBT,EAAO,SAAW,IAGpB,QAAQ,IAAIQ,EAAc,CAAC,CAAC,CAC7B,CACH,EAEAR,EAAO,iBAAiB,QAAS,IAAM,CACjCK,IAAqB,OAGnBC,IAAa,OACf,cAAcA,CAAQ,EAEtBA,EAAW,MAGbA,EAAW,YAAY,UAAY,CACjC,IAAIK,EAAcN,EAAmB,IAAI,KACzC,GAAIM,GAAe,EAAG,CACpB,cAAcL,CAAQ,EACtBM,EAAU,CAAE,KAAM,EAAG,MAAO,EAAG,QAAS,EAAG,QAAS,CAAC,CAAE,EACvDb,EAAU,SAAW,GACrBO,EAAW,KACX,MACD,CAED,MAAMO,EAAUC,EAAUH,CAAW,EACrCC,EAAUC,CAAO,CAClB,EAAE,GAAI,EAETb,EAAO,SAAW,GAClBD,EAAU,SAAW,GACvB,CAAC,EAED,SAASe,EAAUH,EAAa,CAQ9B,MAAMV,EAAO,KAAK,MAAMU,EAAc,KAAG,EAEnCT,EAAQ,KAAK,MAAOS,EAAc,MAAO,IAAI,EAE7CR,EAAU,KAAK,MAAQQ,EAAc,MAAO,KAAQ,GAAM,EAE1DP,EAAU,KAAK,MAASO,EAAc,MAAO,KAAQ,IAAU,GAAM,EAE3E,MAAO,CAAE,KAAAV,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASQ,EAAUG,EAAS,CAC1Bd,EAAK,YAAce,EAAeD,EAAQ,IAAI,EAC9Cb,EAAM,YAAcc,EAAeD,EAAQ,KAAK,EAChDZ,EAAQ,YAAca,EAAeD,EAAQ,OAAO,EACpDX,EAAQ,YAAcY,EAAeD,EAAQ,OAAO,CAEtD,CAEA,SAASC,EAAeC,EAAO,CAE7B,OADaA,EAAM,WACL,SAAS,EAAG,GAAG,CAC/B,CAEAC,EAAU,mBAAoBX,CAAO"}